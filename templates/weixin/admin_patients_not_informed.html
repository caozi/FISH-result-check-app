<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
        <!-- 引入 WeUI CDN 链接 -->
        <link rel="stylesheet" href="https://res.wx.qq.com/open/libs/weui/2.3.0/weui.min.css"/>
    </head>
    <body>
            <div class="page">
                <div class="weui-panel">
                    <div class="weui-panel__hd">未出报告患者数：{{patients_not_informed|length}}</div>
                    <div class="weui-panel__bd">
                        <div class="weui-media-box weui-media-box_small-appmsg">
                            <div class="weui-cells">
                                {% for patient in patients_not_informed %}
                                <a class="weui-cell  weui-cell_access" href="javascript:adminQueryResult({{patient.patient_id}})">
                                    <div class="weui-cell__bd">
                                        <p>HZ{{patient.patient_id}}：{{patient.patient_name}}</p>
                                    </div>
                                    <div class="weui-cell__ft">操作</div>
                                </a>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.0/jquery.min.js"></script>
    <script type="text/javascript">
        function adminQueryResult(patient_id) {
            const form = document.createElement('form');
            form.method = 'post';
            form.action = "/weixin/admin_query/";

            const hiddenField = document.createElement('input');
            hiddenField.type = 'hidden';
            hiddenField.name = 'patient_id';
            hiddenField.value = patient_id;
            form.appendChild(hiddenField);

            document.body.appendChild(form);
            form.submit();
        }
    </script>
</html>







